anexo1 %>%
gt(groupname_col = "name", rowname_col = Fecha) %>%
tab_header(title = md("**Hoja de datos de parámetros de calidad de aire y meteorológicos**")) %>%
tab_options(
table.font.size = px(10),
column_labels.font.size = px(10),
data_row.padding = px(1)) %>%
cols_width(Fecha ~ px(50),
everything() ~ px(45)) %>%
tab_row_group(
group = md("Radiación (kw/$m^2$)"), rows = name == "rad") %>%
tab_row_group(
group = md("$PM_{2.5}$"), rows = name == "pm25") %>%
tab_row_group(
group = md("$PM_{10}$"), rows = name == "pm10"
) %>%
tab_row_group(
group = md("$NO_2$"), rows = name == "no2"
) %>%
tab_row_group(
group = md("$CO (1h)$"), rows = name == "co") %>%
tab_row_group(
group = md("$CO (8h)$"), rows = name == "co_1") %>%
tab_row_group(
group = md("$NO$"), rows = name == "no"
) %>%
tab_row_group(
group = md("$SO_2$"), rows = name == "so2"
) %>%
tab_row_group(
group = md("$H_{2}S$"), rows = name == "h2s"
) %>% tab_row_group(
group = md("$O_3$(8h)"), rows = name == "o3") %>%
opt_stylize(style = 6, color = "cyan") %>%
summary_rows(fns = c(list(id = "min", label = "Min") ~ min(., na.rm = TRUE),
list(id = "max", label = "Max") ~ max(., na.rm = TRUE),
list(id = "mean_id", label = "average") ~ mean(.,na.rm = TRUE)))
anexo1 %>%
gt(groupname_col = "name", rowname_col = "Fecha") %>%
tab_header(title = md("**Hoja de datos de parámetros de calidad de aire y meteorológicos**")) %>%
tab_options(
table.font.size = px(10),
column_labels.font.size = px(10),
data_row.padding = px(1)) %>%
cols_width(Fecha ~ px(50),
everything() ~ px(45)) %>%
tab_row_group(
group = md("Radiación (kw/$m^2$)"), rows = name == "rad") %>%
tab_row_group(
group = md("$PM_{2.5}$"), rows = name == "pm25") %>%
tab_row_group(
group = md("$PM_{10}$"), rows = name == "pm10"
) %>%
tab_row_group(
group = md("$NO_2$"), rows = name == "no2"
) %>%
tab_row_group(
group = md("$CO (1h)$"), rows = name == "co") %>%
tab_row_group(
group = md("$CO (8h)$"), rows = name == "co_1") %>%
tab_row_group(
group = md("$NO$"), rows = name == "no"
) %>%
tab_row_group(
group = md("$SO_2$"), rows = name == "so2"
) %>%
tab_row_group(
group = md("$H_{2}S$"), rows = name == "h2s"
) %>% tab_row_group(
group = md("$O_3$(8h)"), rows = name == "o3") %>%
opt_stylize(style = 6, color = "cyan") %>%
summary_rows(fns = c(list(id = "min", label = "Min") ~ min(., na.rm = TRUE),
list(id = "max", label = "Max") ~ max(., na.rm = TRUE),
list(id = "mean_id", label = "average") ~ mean(.,na.rm = TRUE)))
anexo1 %>%
gt(groupname_col = "name", rowname_col = "Fecha") %>%
tab_header(title = md("**Hoja de datos de parámetros de calidad de aire y meteorológicos**")) %>%
tab_options(
table.font.size = px(10),
column_labels.font.size = px(10),
data_row.padding = px(1)) %>%
cols_width(Fecha ~ px(50),
everything() ~ px(45)) %>%
tab_row_group(
group = md("Radiación (kw/$m^2$)"), rows = name == "rad") %>%
tab_row_group(
group = md("$PM_{2.5}$"), rows = name == "pm25") %>%
tab_row_group(
group = md("$PM_{10}$"), rows = name == "pm10"
) %>%
tab_row_group(
group = md("$NO_2$"), rows = name == "no2"
) %>%
tab_row_group(
group = md("$CO (1h)$"), rows = name == "co") %>%
tab_row_group(
group = md("$CO (8h)$"), rows = name == "co_1") %>%
tab_row_group(
group = md("$NO$"), rows = name == "no"
) %>%
tab_row_group(
group = md("$SO_2$"), rows = name == "so2"
) %>%
tab_row_group(
group = md("$H_{2}S$"), rows = name == "h2s"
) %>% tab_row_group(
group = md("$O_3$(8h)"), rows = name == "o3") %>%
opt_stylize(style = 6, color = "cyan") %>%
summary_rows(fns = c(list(id = "min", label = "Min") ~ min(., na.rm = TRUE),
list(id = "max", label = "Max") ~ max(., na.rm = TRUE),
list(id = "mean_id", label = "Prom") ~ mean(.,na.rm = TRUE)))
anexo1 %>%
gt(groupname_col = "name", rowname_col = "Fecha") %>%
tab_header(title = md("**Hoja de datos de parámetros de calidad de aire y meteorológicos**")) %>%
tab_options(
table.font.size = px(10),
column_labels.font.size = px(10),
data_row.padding = px(1)) %>%
cols_width(Fecha ~ px(50),
everything() ~ px(45)) %>%
tab_row_group(
group = md("Radiación (kw/$m^2$)"), rows = name == "rad") %>%
tab_row_group(
group = md("$PM_{2.5}$"), rows = name == "pm25") %>%
tab_row_group(
group = md("$PM_{10}$"), rows = name == "pm10"
) %>%
tab_row_group(
group = md("$NO_2$"), rows = name == "no2"
) %>%
tab_row_group(
group = md("$CO (1h)$"), rows = name == "co") %>%
tab_row_group(
group = md("$CO (8h)$"), rows = name == "co_1") %>%
tab_row_group(
group = md("$NO$"), rows = name == "no"
) %>%
tab_row_group(
group = md("$SO_2$"), rows = name == "so2"
) %>%
tab_row_group(
group = md("$H_{2}S$"), rows = name == "h2s"
) %>% tab_row_group(
group = md("$O_3$(8h)"), rows = name == "o3") %>%
opt_stylize(style = 6, color = "cyan") %>%
summary_rows(fns = c(list(id = "min", label = "Min") ~ round(min(., na.rm = TRUE),2),
list(id = "max", label = "Max") ~ round(max(., na.rm = TRUE),2),
list(id = "mean_id", label = "Prom") ~ round(mean(.,na.rm = TRUE),2)))
anexo1 %>%
gt(groupname_col = "name", rowname_col = "Fecha") %>%
tab_header(title = md("**Hoja de datos de parámetros de calidad de aire y meteorológicos**")) %>%
tab_options(
table.font.size = px(10),
column_labels.font.size = px(10),
data_row.padding = px(0.3)) %>%
cols_width(Fecha ~ px(48),
everything() ~ px(38)) %>%
tab_row_group(
group = md("Radiación (kw/$m^2$)"), rows = name == "rad") %>%
tab_row_group(
group = md("$PM_{2.5}$"), rows = name == "pm25") %>%
tab_row_group(
group = md("$PM_{10}$"), rows = name == "pm10"
) %>%
tab_row_group(
group = md("$NO_2$"), rows = name == "no2"
) %>%
tab_row_group(
group = md("$CO (1h)$"), rows = name == "co") %>%
tab_row_group(
group = md("$CO (8h)$"), rows = name == "co_1") %>%
tab_row_group(
group = md("$NO$"), rows = name == "no"
) %>%
tab_row_group(
group = md("$SO_2$"), rows = name == "so2"
) %>%
tab_row_group(
group = md("$H_{2}S$"), rows = name == "h2s"
) %>% tab_row_group(
group = md("$O_3$(8h)"), rows = name == "o3") %>%
opt_stylize(style = 6, color = "cyan") %>%
summary_rows(fns = c(list(id = "min", label = "Min") ~ round(min(., na.rm = TRUE),2),
list(id = "max", label = "Max") ~ round(max(., na.rm = TRUE),2),
list(id = "mean_id", label = "Prom") ~ round(mean(.,na.rm = TRUE),2)))
anexo1 %>%
gt(groupname_col = "name", rowname_col = "Fecha") %>%
tab_header(title = md("**Hoja de datos de parámetros de calidad de aire y meteorológicos**")) %>%
tab_options(
table.font.size = px(10),
column_labels.font.size = px(10),
data_row.padding = px(0.3)) %>%
cols_width(Fecha ~ px(48),
everything() ~ px(38)) %>%
tab_row_group(
group = md("Radiación (kw/$m^2$)"), rows = name == "rad") %>%
tab_row_group(
group = md("$PM_{2.5}$"), rows = name == "pm25") %>%
tab_row_group(
group = md("$PM_{10}$"), rows = name == "pm10"
) %>%
tab_row_group(
group = md("$NO_2$"), rows = name == "no2"
) %>%
tab_row_group(
group = md("$CO (1h)$"), rows = name == "co") %>%
tab_row_group(
group = md("$CO (8h)$"), rows = name == "co_1") %>%
tab_row_group(
group = md("$NO$"), rows = name == "no"
) %>%
tab_row_group(
group = md("$SO_2$"), rows = name == "so2"
) %>%
tab_row_group(
group = md("$H_{2}S$"), rows = name == "h2s"
) %>% tab_row_group(
group = md("$O_3$(8h)"), rows = name == "o3") %>%
summary_rows(fns = c(list(id = "min", label = "Min") ~ round(min(., na.rm = TRUE),2),
list(id = "max", label = "Max") ~ round(max(., na.rm = TRUE),2),
list(id = "mean_id", label = "Prom") ~ round(mean(.,na.rm = TRUE),2))) %>%
opt_stylize(style = 6, color = "cyan")
anexo1 %>%
gt(groupname_col = "name", rowname_col = "Fecha") %>%
tab_header(title = md("**Hoja de datos de parámetros de calidad de aire y meteorológicos**")) %>%
tab_options(
table.font.size = px(10),
column_labels.font.size = px(10),
data_row.padding = px(0.3)) %>%
cols_width(Fecha ~ px(48),
everything() ~ px(38)) %>%
tab_row_group(
group = md("Radiación ($m^2$)"), rows = name == "rad") %>%
tab_row_group(
group = md("$PM_{2.5}$"), rows = name == "pm25") %>%
tab_row_group(
group = md("$PM_{10}$"), rows = name == "pm10"
) %>%
tab_row_group(
group = md("$NO_2$"), rows = name == "no2"
) %>%
tab_row_group(
group = md("$CO (1h)$"), rows = name == "co") %>%
tab_row_group(
group = md("$CO (8h)$"), rows = name == "co_1") %>%
tab_row_group(
group = md("$NO$"), rows = name == "no"
) %>%
tab_row_group(
group = md("$SO_2$"), rows = name == "so2"
) %>%
tab_row_group(
group = md("$H_{2}S$"), rows = name == "h2s"
) %>% tab_row_group(
group = md("$O_3$(8h)"), rows = name == "o3") %>%
summary_rows(fns = c(list(id = "min", label = "Min") ~ round(min(., na.rm = TRUE),2),
list(id = "max", label = "Max") ~ round(max(., na.rm = TRUE),2),
list(id = "mean_id", label = "Prom") ~ round(mean(.,na.rm = TRUE),2))) %>%
opt_stylize(style = 6, color = "cyan")
anexo1 %>%
gt(groupname_col = "name", rowname_col = "Fecha") %>%
tab_header(title = md("**Hoja de datos de parámetros de calidad de aire y meteorológicos**")) %>%
tab_options(
table.font.size = px(10),
column_labels.font.size = px(10),
data_row.padding = px(0.3)) %>%
cols_width(Fecha ~ px(48),
everything() ~ px(38)) %>%
tab_row_group(
group = md("Radiación (kw/$m^2$)"), rows = name == "rad") %>%
tab_row_group(
group = md("$PM_{2.5}$"), rows = name == "pm25") %>%
tab_row_group(
group = md("$PM_{10}$"), rows = name == "pm10"
) %>%
tab_row_group(
group = md("$NO_2$"), rows = name == "no2"
) %>%
tab_row_group(
group = md("$CO (1h)$"), rows = name == "co") %>%
tab_row_group(
group = md("$CO (8h)$"), rows = name == "co_1") %>%
tab_row_group(
group = md("$NO$"), rows = name == "no"
) %>%
tab_row_group(
group = md("$SO_2$"), rows = name == "so2"
) %>%
tab_row_group(
group = md("$H_{2}S$"), rows = name == "h2s"
) %>% tab_row_group(
group = md("$O_3$(8h)"), rows = name == "o3") %>%
summary_rows(fns = c(list(id = "min", label = "Min") ~ round(min(., na.rm = TRUE),2),
list(id = "max", label = "Max") ~ round(max(., na.rm = TRUE),2),
list(id = "mean_id", label = "Prom") ~ round(mean(.,na.rm = TRUE),2))) %>%
opt_stylize(style = 6, color = "cyan")
anexo1 %>%
gt(groupname_col = "name", rowname_col = "Fecha") %>%
tab_header(title = md("**Hoja de datos de parámetros de calidad de aire y meteorológicos**")) %>%
tab_options(
table.font.size = px(10),
column_labels.font.size = px(10),
data_row.padding = px(0.3)) %>%
cols_width(Fecha ~ px(48),
everything() ~ px(38)) %>%
tab_row_group(
group = md("Radiación (kw/$m^2$)"), rows = name == "rad") %>%
tab_row_group(
group = md("$PM_{2.5}$"), rows = name == "pm25") %>%
tab_row_group(
group = md("$PM_{10}$"), rows = name == "pm10"
) %>%
tab_row_group(
group = md("$NO_2$"), rows = name == "no2"
) %>%
tab_row_group(
group = md("$CO (1h)$"), rows = name == "co") %>%
tab_row_group(
group = md("$CO (8h)$"), rows = name == "co_1") %>%
tab_row_group(
group = md("$NO$"), rows = name == "no"
) %>%
tab_row_group(
group = md("$SO_2$"), rows = name == "so2"
) %>%
tab_row_group(
group = md("$H_{2}S$"), rows = name == "h2s"
) %>% tab_row_group(
group = md("$O_3$(8h)"), rows = name == "o3") %>%
summary_rows(fns = c(list(id = "min", label = "Min") ~ round(min(., na.rm = TRUE),2),
list(id = "max", label = "Max") ~ round(max(., na.rm = TRUE),2),
list(id = "mean_id", label = "Prom") ~ round(mean(.,na.rm = TRUE),2)))
df$df %>%
rename("Velocidad del viento (m/s)" = ws,
"Presión (mbar)" = pres,
"Precipitación (mm)" = pp,
"Temperatura (°C)" = temp,
"Humedad relativa (%)" = hr) %>%
pivot_longer(cols = 2:17) %>%
mutate(hora = format(date, format = "%H:%M"),
date = format(date, format = "%d-%m")) %>%
pivot_wider(names_from = hora, values_from = value) %>%
rowwise() %>%
mutate(
Max = max(c_across(where(is.numeric)), na.rm = TRUE),
Min = min(c_across(where(is.numeric)), na.rm = TRUE),
Prom = mean(c_across(where(is.numeric)), na.rm = TRUE)
) %>% mutate_if(is.numeric, round, digits = 2) %>%
rename("Fecha" = date) %>% select(-wd)
df$df %>%
rename("Velocidad del viento (m/s)" = ws,
"Presión (mbar)" = pres,
"Precipitación (mm)" = pp,
"Temperatura (°C)" = temp,
"Humedad relativa (%)" = hr)
anexo1 <- df$df %>%
rename("Velocidad del viento (m/s)" = ws,
"Presión (mbar)" = pres,
"Precipitación (mm)" = pp,
"Temperatura (°C)" = temp,
"Humedad relativa (%)" = hr) %>%
select(-wd) %>%
pivot_longer(cols = 2:16) %>%
mutate(hora = format(date, format = "%H:%M"),
date = format(date, format = "%d-%m")) %>%
pivot_wider(names_from = hora, values_from = value) %>%
rowwise() %>%
mutate(
Max = max(c_across(where(is.numeric)), na.rm = TRUE),
Min = min(c_across(where(is.numeric)), na.rm = TRUE),
Prom = mean(c_across(where(is.numeric)), na.rm = TRUE)
) %>% mutate_if(is.numeric, round, digits = 2) %>%
rename("Fecha" = date)
anexo1 %>%
gt(groupname_col = "name", rowname_col = "Fecha") %>%
tab_header(title = md("**Hoja de datos de parámetros de calidad de aire y meteorológicos**")) %>%
tab_options(
table.font.size = px(10),
column_labels.font.size = px(10),
data_row.padding = px(0.3)) %>%
cols_width(Fecha ~ px(48),
everything() ~ px(38)) %>%
tab_row_group(
group = md("Radiación (kw/m2)"), rows = name == "rad") %>%
tab_row_group(
group = md("$PM_{2.5}$"), rows = name == "pm25") %>%
tab_row_group(
group = md("$PM_{10}$"), rows = name == "pm10"
) %>%
tab_row_group(
group = md("$NO_2$"), rows = name == "no2"
) %>%
tab_row_group(
group = md("$CO (1h)$"), rows = name == "co") %>%
tab_row_group(
group = md("$CO (8h)$"), rows = name == "co_1") %>%
tab_row_group(
group = md("$NO$"), rows = name == "no"
) %>%
tab_row_group(
group = md("$SO_2$"), rows = name == "so2"
) %>%
tab_row_group(
group = md("$H_{2}S$"), rows = name == "h2s"
) %>% tab_row_group(
group = md("$O_3$(8h)"), rows = name == "o3") %>%
summary_rows(fns = c(list(id = "min", label = "Min") ~ round(min(., na.rm = TRUE),2),
list(id = "max", label = "Max") ~ round(max(., na.rm = TRUE),2),
list(id = "mean_id", label = "Prom") ~ round(mean(.,na.rm = TRUE),2)))
df$df %>%
rename("Velocidad del viento (m/s)" = ws,
"Presión (mbar)" = pres,
"Precipitación (mm)" = pp,
"Temperatura (°C)" = temp,
"Humedad relativa (%)" = hr) %>%
select(-wd)
anexo1 <- df$df %>%
rename("Velocidad del viento (m/s)" = ws,
"Presión (mbar)" = pres,
"Precipitación (mm)" = pp,
"Temperatura (°C)" = temp,
"Humedad relativa (%)" = hr) %>%
select(-wd) %>%
pivot_longer(cols = 2:16) %>%
mutate(hora = format(date, format = "%H:%M"),
date = format(date, format = "%d-%m")) %>%
pivot_wider(names_from = hora, values_from = value) %>%
rowwise() %>%
mutate(
Max = max(c_across(where(is.numeric)), na.rm = TRUE),
Min = min(c_across(where(is.numeric)), na.rm = TRUE),
Prom = mean(c_across(where(is.numeric)), na.rm = TRUE)
) %>% mutate_if(is.numeric, round, digits = 2) %>%
rename("Fecha" = date)
plot(iris$Sepal.Length)
install.packages("summarytools")
install.packages("summarytools")
library(gt)
# Define the start and end dates for the data range
start_date <- "2010-06-07"
end_date <- "2010-06-14"
# Create a gt table based on preprocessed
# `sp500` table data
sp500 |>
dplyr::filter(date >= start_date & date <= end_date) |>
dplyr::select(-adj_close) |>
gt() |>
tab_header(
title = "S&P 500",
subtitle = glue::glue("{start_date} to {end_date}")
) |>
fmt_currency() |>
fmt_date(columns = date, date_style = "wd_m_day_year") |>
fmt_number(columns = volume, suffixing = TRUE)
install.packages("gtExtras")
install.packages("kableExtra")
remotes::install_github("r-earthengine/rgeeExtra")
install.packages("remotes")
remotes::install_github("r-earthengine/rgeeExtra")
library(rgee)
library(rgeeExtra)
extra_Initialize()
reticulate::repl_python()
import ee
ee.Initialize(project = "ee-bryan1qr")
exit
ee$Initialize()
ee_Initialize(project = "ee-bryan1qr")
ee$Initialize()
ee_check()
ee_check_credentials()
ee_Initialize(drive = T)
ee_check_credentials()
img <- ee$Image("LANDSAT/LC08/C02/T1_L2/LC08_007067_20140822")$
normalizedDifference(c("SR_B5", "SR_B4"))$
pow(2)
# Visualize squared NDVI on map
Map$centerObject(img)
Map$addLayer(
eeObject = img,
visParams = list(
min = 0,
max = 0.2,
palette = c("brown", "yellow", "green")
),
name = "Squared NDVI")
# Compute squared NDVI from Landsat 8 image
img <- ee$Image("LANDSAT/LC08/C02/T1_L2/LC08_007067_20140822")
ndvi <- ((img[["SR_B5"]] - img[["SR_B4"]]) / (img[["SR_B5"]] + img[["SR_B4"]])) ** 2
names(ndvi) <- "NDVI"
# Visualize squared NDVI on map
Map$centerObject(ndvi)
Map$addLayer(
eeObject = ndvi,
visParams = list(
min = 0,
max = 0.2,
palette = c("brown", "yellow", "green")
),
name = "Squared NDVI"
)
#| fig-height: 3.6
#| fig-width: 7
source("Scripts/AQI.R")
aqi_index(df$eca)
library(tidyverse)
#| fig-height: 3.6
#| fig-width: 7
source("Scripts/AQI.R")
aqi_index(df$eca)
head(aqi_index(df$eca))
df$eca
